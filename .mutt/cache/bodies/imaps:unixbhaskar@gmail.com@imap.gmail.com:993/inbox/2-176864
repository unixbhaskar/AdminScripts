Delivered-To: unixbhaskar@gmail.com
Received: by 2002:a19:5211:0:0:0:0:0 with SMTP id m17csp2548lfb;
        Fri, 19 Apr 2019 17:29:11 -0700 (PDT)
X-Google-Smtp-Source: APXvYqzCxKlXNDdLFPupAKg/BojNIQOYAe0NVbzOvY8UwWq66o8ED/2C8Mve1V6R50uVRZiAT9yM
X-Received: by 2002:a17:902:9a4c:: with SMTP id x12mr6763721plv.90.1555720151088;
        Fri, 19 Apr 2019 17:29:11 -0700 (PDT)
ARC-Seal: i=1; a=rsa-sha256; t=1555720151; cv=none;
        d=google.com; s=arc-20160816;
        b=MCtm0UrsmT8EKUy628wneM7Tnur0ebEhvDXN2IwuLP7L7Fu3fT4B44reM5//YuWYm1
         +NJnANy2ksNW3gO2rOYlFtbkVEMEkf6R7dsg3yN5ifV8IRW7Ozfw5MLZ++PC1Iqp34jf
         KvEjm/A3rUMXj5D8sw7TLDWLnbL3VwpRWKlurK+G1uw1WbHHmFX4PYcqx0FsdKsPzs4/
         c0oSZ7XJQpGWlzN6LWlhoMOsYP0QX9lj8blfGyDvf/LhmHBF0DSEoaup0dz8+1gRFkf4
         ayWyj10yOw+Z1keEJfbxlSQ7fT0f+YMW6ZbjG6tT7/IhlQ7RCJmAjAajBmOibWGzIqKk
         PSFw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=list-id:precedence:sender:user-agent:content-disposition
         :mime-version:message-id:subject:cc:to:from:date:dkim-signature;
        bh=whM287JCYRLKjBUtoh/GKWmrgoB+ad0LTio69nyTqYU=;
        b=vE1UgSHTSiUFVT4SeusuLNbw09Gjj69dXE6517Jzk/RzUigDJDqDr7BNxD00kuDIo7
         f4T8JhvKtfvHhWwgCNCteQG7Pq55ItxUTsN1TB3upL7ZNkx1IyYDnnyemeQ6VUmeBdzs
         zigNysztmTSiHN7uELcNA+/9gDX5AnKujJ+HcDE3KF/e3ZY93DOF8PVlW7p3BOJiNApn
         VP+hv46fAaO3ld9otHY4AjLfl+sbl3mfvPr6Dish07lz6G7GUPMOzZoZ8xGVKLpT0nyT
         wBKCJ8JN9XDP6kZL3xGI7A7uVe3foMzbwPgnesnNTVchF/3mhOfM2h0YXGRyFlISlo7d
         Ga9A==
ARC-Authentication-Results: i=1; mx.google.com;
       dkim=fail header.i=@gmail.com header.s=20161025 header.b=sYQ21R2l;
       spf=pass (google.com: best guess record for domain of cgroups-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) smtp.mailfrom=cgroups-owner@vger.kernel.org;
       dmarc=fail (p=NONE sp=NONE dis=NONE) header.from=kernel.org
Return-Path: <cgroups-owner@vger.kernel.org>
Received: from vger.kernel.org (vger.kernel.org. [209.132.180.67])
        by mx.google.com with ESMTP id t14si6660346pfh.87.2019.04.19.17.28.42;
        Fri, 19 Apr 2019 17:29:11 -0700 (PDT)
Received-SPF: pass (google.com: best guess record for domain of cgroups-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) client-ip=209.132.180.67;
Authentication-Results: mx.google.com;
       dkim=fail header.i=@gmail.com header.s=20161025 header.b=sYQ21R2l;
       spf=pass (google.com: best guess record for domain of cgroups-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) smtp.mailfrom=cgroups-owner@vger.kernel.org;
       dmarc=fail (p=NONE sp=NONE dis=NONE) header.from=kernel.org
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1725860AbfDTA2i (ORCPT <rfc822;alex.m.shi@gmail.com>
        + 99 others); Fri, 19 Apr 2019 20:28:38 -0400
Received: from mail-yw1-f65.google.com ([209.85.161.65]:32937 "EHLO
        mail-yw1-f65.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1725280AbfDTA2i (ORCPT
        <rfc822;cgroups@vger.kernel.org>); Fri, 19 Apr 2019 20:28:38 -0400
Received: by mail-yw1-f65.google.com with SMTP id l5so2406359ywa.0;
        Fri, 19 Apr 2019 17:28:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=sender:date:from:to:cc:subject:message-id:mime-version
         :content-disposition:user-agent;
        bh=whM287JCYRLKjBUtoh/GKWmrgoB+ad0LTio69nyTqYU=;
        b=sYQ21R2lr6tXtIJkDpuTpN2tO2/MTL4ii3ThQAIVlgKQEovrSC7Jm+mQOnpHAcgQsK
         SMskNuaol0CtSLXyldsY8iOWusbwYuSRdCh+2aqgLv1xNC2Ro/lQFqjD8EwZvwq5FBFv
         aLRCDr5BuhM5YkTPNDCx9toYAi9/yT2SXxjR1EVvprVO2xASE4dGn4nCVxvF9LgDCT5m
         xaOVXFCpMlhvGCM2APJs4E9kofjI+wA7fwrxsBk5ADRNzWolVyEsh7QqR2+El04Lylx1
         TIiquBSb9L5Xav/SkmVaqbcZ39hHXVQB9DP3JsiMJrKOmSqPrnwzwC4V6v3EJ+rKGvXT
         imZw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:sender:date:from:to:cc:subject:message-id
         :mime-version:content-disposition:user-agent;
        bh=whM287JCYRLKjBUtoh/GKWmrgoB+ad0LTio69nyTqYU=;
        b=WOtcbl7HQu/aqS5bhq8ZLgzHSXZ09lDtxZErEouaW1zmyk1HXCI+r96MtwGBe8wEiI
         Bhe1ZbGnHSqKUP4TU16+cGelwdoVVsgDBvYRTOSOxlpCvcoMZWUQuopMhisbAdo5y2Xf
         Ds0YEdh0jcs0x0B7X/M/QcXmcDonbdHActEOTKTfUZJREJjzYByed7eY77MvQ5FMeFPL
         exDamnG5ar4OfKlzQ9MfbdBRx70oaCinpYBnzS73eWhkYY3p+/wEOIErk42Gy2Up04TP
         CEATLqmixZNnvGjo/iwYjCLHiP9DFPRSPjrxgN1m7nkTCXRDcXmqgnzV5iEdnauO1jLb
         K4Sg==
X-Gm-Message-State: APjAAAUzByAb/juC/Jb/s1CHeYwwo3H0ntu3I0fzjy4Eo6p2JnkVWvzk
        Ll9j1lZfcfuSv00n5OCzJco=
X-Received: by 2002:a81:6957:: with SMTP id e84mr5416848ywc.503.1555720117642;
        Fri, 19 Apr 2019 17:28:37 -0700 (PDT)
Received: from localhost ([2620:10d:c091:180::2f7e])
        by smtp.gmail.com with ESMTPSA id v144sm2508824ywc.37.2019.04.19.17.28.36
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Fri, 19 Apr 2019 17:28:36 -0700 (PDT)
Date:   Fri, 19 Apr 2019 17:28:34 -0700
From:   Tejun Heo <tj@kernel.org>
To:     Linus Torvalds <torvalds@linux-foundation.org>
Cc:     linux-kernel@vger.kernel.org, Li Zefan <lizefan@huawei.com>,
        Johannes Weiner <hannes@cmpxchg.org>, cgroups@vger.kernel.org
Subject: [GIT PULL] cgroup fix for v5.1-rc5
Message-ID: <20190420002834.GJ374014@devbig004.ftw2.facebook.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.21 (2010-09-15)
Sender: cgroups-owner@vger.kernel.org
Precedence: bulk
List-ID: <cgroups.vger.kernel.org>
X-Mailing-List: cgroups@vger.kernel.org

Hello, Linus.

A patch to fix a RCU imbalance error in the devices cgroup
configuration error path.

Thanks.

The following changes since commit 9e98c678c2d6ae3a17cb2de55d17f69dddaa231b:

  Linux 5.1-rc1 (2019-03-17 14:22:26 -0700)

are available in the Git repository at:

  git://git.kernel.org/pub/scm/linux/kernel/git/tj/cgroup.git for-5.1-fixes

for you to fetch changes up to 0fcc4c8c044e117ac126ab6df4138ea9a67fa2a9:

  device_cgroup: fix RCU imbalance in error case (2019-03-19 10:46:15 -0700)

----------------------------------------------------------------
Jann Horn (1):
      device_cgroup: fix RCU imbalance in error case

 security/device_cgroup.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/security/device_cgroup.c b/security/device_cgroup.c
index cd97929fac66..dc28914fa72e 100644
--- a/security/device_cgroup.c
+++ b/security/device_cgroup.c
@@ -560,7 +560,7 @@ static int propagate_exception(struct dev_cgroup *devcg_root,
 		    devcg->behavior == DEVCG_DEFAULT_ALLOW) {
 			rc = dev_exception_add(devcg, ex);
 			if (rc)
-				break;
+				return rc;
 		} else {
 			/*
 			 * in the other possible cases:

-- 
tejun
