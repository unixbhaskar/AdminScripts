Delivered-To: unixbhaskar@gmail.com
Received: by 2002:a19:8c51:0:0:0:0:0 with SMTP id i17csp2721872lfj;
        Fri, 24 Jul 2020 10:43:14 -0700 (PDT)
X-Google-Smtp-Source: ABdhPJwYSTW+ktXhHWUW/79i+ujMbdBpfwDa1Dy0/wvpnFVConDTztPYbc+5cdw1FRHZMMWH/VQJ
X-Received: by 2002:a17:906:1b45:: with SMTP id p5mr10025820ejg.51.1595612594047;
        Fri, 24 Jul 2020 10:43:14 -0700 (PDT)
ARC-Seal: i=1; a=rsa-sha256; t=1595612594; cv=none;
        d=google.com; s=arc-20160816;
        b=TO7PneJN018FqH8uEu8BXgfEJRAJUzyuWlSO2nsK0j43Tx7Q+Dq0+ADfSo5geL1jeo
         B88koz6VeSj4C8pyXxhQkL38NG86NnfDcJ/vCKClJ2qN/1q8VqTKGsDJ4pG0siPCGP/s
         L+ZIKIpEMwg7sJgz7z2S+Dw2B+7IVnbm5ztY0R/lAVqlfR80MEYoliXpWBB8IT7xZCgB
         iv0eWtSJupT1HyZ314pZqHx3kc4icJKCrqba+bbBvjv0JguOOIVtyK8+rBCN+nHbQJh+
         /6PwHBnDwXF8Maqe/XFvgJ4QGCnThJ1RK7lE5wnWUl42CLPE6JuLGnwomakAkizaZDGo
         98Ag==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=list-id:precedence:sender:in-reply-to:content-disposition
         :mime-version:references:message-id:subject:cc:to:from:date
         :dkim-signature;
        bh=FqA68UqnOeQNPrtAxIPD6HxDZJOq+LeV5TLg5WJK564=;
        b=xnXM1OoLayd/x6P+cS/uTgNNgdiwutL/XNr3Xmb7aoBm3mpeV2ZUtFBMye1QhqMxmy
         KySpab1KWANzvS1ULUPGkA126NWT2LqpsSRAIXP8haR6SOfWZUtzErvvpyZBaht46oX8
         39OlIzFLJZFrZmAySqEgu1IVfp1s1DXCTdAbFuHkUvOfrvOTmhn1NLrUJXeqkpqmvS1/
         rwsCBOsI+6nmhcZddgU28q2xpPwz4LrJKVL+zLOofLqtO8GKlyBB+DUwGycLmF9o5iLV
         zyH/n2J6ReQNrzO9v2rzAZXOUE/EtcSiZQiYxjFbieeRJplTI8RN6bZPbvWlzdiD7ODv
         gHeQ==
ARC-Authentication-Results: i=1; mx.google.com;
       dkim=fail header.i=@infradead.org header.s=casper.20170209 header.b=tTM2agWt;
       spf=pass (google.com: domain of linux-doc-owner@vger.kernel.org designates 23.128.96.18 as permitted sender) smtp.mailfrom=linux-doc-owner@vger.kernel.org
Return-Path: <linux-doc-owner@vger.kernel.org>
Received: from vger.kernel.org (vger.kernel.org. [23.128.96.18])
        by mx.google.com with ESMTP id lc19si933974ejb.584.2020.07.24.10.42.48;
        Fri, 24 Jul 2020 10:43:14 -0700 (PDT)
Received-SPF: pass (google.com: domain of linux-doc-owner@vger.kernel.org designates 23.128.96.18 as permitted sender) client-ip=23.128.96.18;
Authentication-Results: mx.google.com;
       dkim=fail header.i=@infradead.org header.s=casper.20170209 header.b=tTM2agWt;
       spf=pass (google.com: domain of linux-doc-owner@vger.kernel.org designates 23.128.96.18 as permitted sender) smtp.mailfrom=linux-doc-owner@vger.kernel.org
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726759AbgGXRlg (ORCPT <rfc822;dwlsalmeida@gmail.com>
        + 99 others); Fri, 24 Jul 2020 13:41:36 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:49020 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1726455AbgGXRlf (ORCPT
        <rfc822;linux-doc@vger.kernel.org>); Fri, 24 Jul 2020 13:41:35 -0400
Received: from casper.infradead.org (casper.infradead.org [IPv6:2001:8b0:10b:1236::1])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 46C75C0619D3;
        Fri, 24 Jul 2020 10:41:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
        d=infradead.org; s=casper.20170209; h=In-Reply-To:Content-Type:MIME-Version:
        References:Message-ID:Subject:Cc:To:From:Date:Sender:Reply-To:
        Content-Transfer-Encoding:Content-ID:Content-Description;
        bh=FqA68UqnOeQNPrtAxIPD6HxDZJOq+LeV5TLg5WJK564=; b=tTM2agWtok77q/6gAZ99y3VZr6
        bJ0GpUJIBK3iWQ1er3crAkmqP1V/ffr+nLRMlz7aBe+8mO3OYV8Vz8duluPsXkYCCSYSclR1x5ydI
        6mKtUi6KX6vKb6ir8tBXUqdfdsqYtWJTMBtCVTsVWEtD1OkTuki0BXgg5vgxcbhWL3iqKx3FPZHP0
        1TY1+2QjUlGuImoOaw/JHxhT5LsSZmIsVuwENnU+Jz1NDhiAVux41JQyXP67q78NjrgKOleVuoSey
        rEPhOT7zK3iLRsIxwHtZQSgRgLLzMfADFF1gBApJsjKBJjROavdV6S+33kKf+yE4dAXD/mhkw4hQn
        amToRNUQ==;
Received: from willy by casper.infradead.org with local (Exim 4.92.3 #3 (Red Hat Linux))
        id 1jz1hK-0006ef-Qi; Fri, 24 Jul 2020 17:41:30 +0000
Date:   Fri, 24 Jul 2020 18:41:30 +0100
From:   Matthew Wilcox <willy@infradead.org>
To:     Steven Rostedt <rostedt@goodmis.org>
Cc:     Jonathan Corbet <corbet@lwn.net>,
        Peter Zijlstra <peterz@infradead.org>,
        linux-doc@vger.kernel.org, LKML <linux-kernel@vger.kernel.org>
Subject: Re: Minor RST rant
Message-ID: <20200724174130.GC23808@casper.infradead.org>
References: <20200724132200.51fd2065@oasis.local.home>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20200724132200.51fd2065@oasis.local.home>
Sender: linux-doc-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-doc.vger.kernel.org>
X-Mailing-List: linux-doc@vger.kernel.org

On Fri, Jul 24, 2020 at 01:22:00PM -0400, Steven Rostedt wrote:
> I like how RST can help make for a better grouping of our documents
> and put it into other formats. But I have to rant a little because I'm
> currently experiencing some of the frustration that Peter commonly
> complains about.

Thanks for bringing this up in such a constructive manner.
I'm sympathetic to these concerns.

> Then I went to Documentation/filesystems/path-lookup.rst, and found
> myself constantly re-reading the same paragraph over again, and losing
> track of what I'm reading. I realized it wasn't due to the writing, but
> due to the constant inserted markup of quotes, that makes it terribly
> annoying to read, and unfortunately, not enjoyable at all.
> 
> For example:
> 
> > It is tempting to describe the second kind as starting with a
> > component, but that isn't always accurate: a pathname can lack both
> > slashes and components, it can be empty, in other words.  This is
> > generally forbidden in POSIX, but some of those "xxx``at``" system calls
> > in Linux permit it when the ``AT_EMPTY_PATH`` flag is given.  For
> > example, if you have an open file descriptor on an executable file you
> > can execute it by calling `execveat() <execveat_>`_ passing
> > the file descriptor, an empty path, and the ``AT_EMPTY_PATH`` flag.
> 
> All those `` are throwing me off to understanding what is being written.
> 
> I don't even know what those are suppose to represent.

Great example.  Some people definitely go too far with rst markup, and
we generally try to discourage it.  And I'm pretty sure we take patches
to remove excessive markup where it's gone too far [1].

You can see how this renders in html at
https://www.kernel.org/doc/html/latest/filesystems/path-lookup.html or
run 'make htmldocs' to build it locally.  Personally, I don't think
the markup style it uses works very well in the html either.

I'd like to see this paragraph written as:

> It is tempting to describe the second kind as starting with a
> component, but that isn't always accurate: a pathname can lack both
> slashes and components, it can be empty, in other words.  This is
> generally forbidden in POSIX, but some of the "*at()" system calls
> in Linux permit it when the ``AT_EMPTY_PATH`` flag is given.  For
> example, if you have an open file descriptor on an executable file you
> can execute it by calling execveat() passing the file descriptor, an
> empty path, and the ``AT_EMPTY_PATH`` flag.

I think we're all pretty comfortable seeing function names adorned with
a closing pair of parens.  The ``...`` to adorn constants feels OK to me,
but maybe not to you?  If that feels excessive, can you suggest something
that would distinguish between POSIX and AT_EMPTY_PATH?

[1] Too far being a subjective measure, of course.  My preferences
are on display in core-api/xarray.rst
