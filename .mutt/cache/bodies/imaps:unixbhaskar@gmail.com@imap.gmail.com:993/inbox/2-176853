Delivered-To: unixbhaskar@gmail.com
Received: by 2002:a19:5211:0:0:0:0:0 with SMTP id m17csp2388581lfb;
        Fri, 19 Apr 2019 15:56:39 -0700 (PDT)
X-Google-Smtp-Source: APXvYqzIBVHyIzqTq0Yh4BBt3hJ07fRKKat47XY36ici2C4dLdgiAFHd+Oe7Fehh/CYQVCARYxwo
X-Received: by 2002:aa7:91d6:: with SMTP id z22mr6675754pfa.242.1555714599685;
        Fri, 19 Apr 2019 15:56:39 -0700 (PDT)
ARC-Seal: i=1; a=rsa-sha256; t=1555714599; cv=none;
        d=google.com; s=arc-20160816;
        b=xyQbX97hmu0t70Uu1TJ+kZqUFXb3tJx+GLc9gtVqRXD1O5/k27ooW4NWET+m2y50EF
         gK3ysZVd+avygW+5pVtqqgVhifTcFfcvKvOus+V+uZb+Js+NqlCGeugvlZcidKZ/anGd
         PHMZy6dWNiocVDyFvcNb2STShNZM3Cy8pDaWn6Yt6YZ5ZCNhPTvj4aqpCPdECg3O0oww
         C/z+JRyXpg+fKdGbZnZVrsQAOkYFziAoM3hDXMJbb81D6sh0jwKG86pUxqkv25I2NtRy
         5x9lUo3Eolw71YsamaUL9s0BFNn7X1wgM4TuXO7rYjJu5cUbjMDwN8ARVnpq4+MO99Ig
         jDGQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=list-id:precedence:sender:user-agent:in-reply-to
         :content-disposition:mime-version:references:message-id:subject:cc
         :to:from:date:dkim-signature;
        bh=8GHfViN1qI7tP5bjrRTuauCJlfPJIop88X8YcwvDN6s=;
        b=v0jK07JE0T9xn/0cfSBKMebHQzW8KscugVPyElO30cheeYZ44eRP06LByEmXYxEhjE
         AA0rv+LlJ4RKdu9PHLxKxLqz0dmOiGzcMhWued7RuzRD3g3MpkehWS5mkj4Qv59IVYOg
         A8JUncbRm0v1nSWhVUkg+wTVIOxobOlF1IpQxw2yBKQOfWWczquoblzuQvsyccT0tbpZ
         ebUjnksg84NN9go+nRnHUj+T3Pg536QS/ch1GF7XBTmq8RRuA5qLgvfCuVNIS9rMLMJr
         kMA7LFGqV3gc/DScB75D28Zi8US+NSyKsGzosvy4DqYb+vn7COo+VVLdxiH7FmpWFJPd
         0vWA==
ARC-Authentication-Results: i=1; mx.google.com;
       dkim=fail header.i=@infradead.org header.s=bombadil.20170209 header.b=jTOIGU81;
       spf=pass (google.com: best guess record for domain of linux-kernel-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) smtp.mailfrom=linux-kernel-owner@vger.kernel.org
Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: from vger.kernel.org (vger.kernel.org. [209.132.180.67])
        by mx.google.com with ESMTP id ck14si6569754plb.198.2019.04.19.15.56.36;
        Fri, 19 Apr 2019 15:56:39 -0700 (PDT)
Received-SPF: pass (google.com: best guess record for domain of linux-kernel-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) client-ip=209.132.180.67;
Authentication-Results: mx.google.com;
       dkim=fail header.i=@infradead.org header.s=bombadil.20170209 header.b=jTOIGU81;
       spf=pass (google.com: best guess record for domain of linux-kernel-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) smtp.mailfrom=linux-kernel-owner@vger.kernel.org
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726567AbfDSWyX (ORCPT <rfc822;snowfrs@gmail.com> + 19 others);
        Fri, 19 Apr 2019 18:54:23 -0400
Received: from bombadil.infradead.org ([198.137.202.133]:49702 "EHLO
        bombadil.infradead.org" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1726000AbfDSWyW (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Fri, 19 Apr 2019 18:54:22 -0400
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
        d=infradead.org; s=bombadil.20170209; h=In-Reply-To:Content-Type:MIME-Version
        :References:Message-ID:Subject:Cc:To:From:Date:Sender:Reply-To:
        Content-Transfer-Encoding:Content-ID:Content-Description:Resent-Date:
        Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:List-Id:
        List-Help:List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive;
         bh=8GHfViN1qI7tP5bjrRTuauCJlfPJIop88X8YcwvDN6s=; b=jTOIGU81UGM+SZeugfFRNRueG
        l6N+dMe5L8tE+LsbrB8ff0RI23zdhq6sMGzaJL9CqIcSoEsKeE+4mKtV6w04nWSC7qRYvmWsX4qVv
        Em6ez34lCyAWPmoo4haiEBl4pAP0PH4JLNkC+J77nltznW7JRNaHYaUvM5IoJDhTTIt9fWrjgAVWX
        Is1aHcSYYpXbYDLQcz5qHAlAfHu6Ej/IcDznFo6/qIoVShfVOmTYM2vgrmAG/mFYR9pCVl8JRV8eu
        HeKPmAjiFhTEbg9PgKdqcVA72Lz8X+M7ZlBEd2a/rQHpy56woJi6su9wdmYLTprp8Drt48ag2WAIl
        /o7GbTcpA==;
Received: from willy by bombadil.infradead.org with local (Exim 4.90_1 #2 (Red Hat Linux))
        id 1hHU8n-0006OX-Cm; Fri, 19 Apr 2019 14:05:21 +0000
Date:   Fri, 19 Apr 2019 07:05:21 -0700
From:   Matthew Wilcox <willy@infradead.org>
To:     Mel Gorman <mgorman@techsingularity.net>
Cc:     Andrew Morton <akpm@linux-foundation.org>,
        Mikulas Patocka <mpatocka@redhat.com>,
        James Bottomley <James.Bottomley@hansenpartnership.com>,
        linux-parisc@vger.kernel.org, linux-mm@kvack.org,
        Vlastimil Babka <vbabka@suse.cz>,
        LKML <linux-kernel@vger.kernel.org>, linux-arch@vger.kernel.org
Subject: DISCONTIGMEM is deprecated
Message-ID: <20190419140521.GI7751@bombadil.infradead.org>
References: <20190419094335.GJ18914@techsingularity.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20190419094335.GJ18914@techsingularity.net>
User-Agent: Mutt/1.9.2 (2017-12-15)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

On Fri, Apr 19, 2019 at 10:43:35AM +0100, Mel Gorman wrote:
> DISCONTIG is essentially deprecated and even parisc plans to move to
> SPARSEMEM so there is no need to be fancy, this patch simply disables
> watermark boosting by default on DISCONTIGMEM.

I don't think parisc is the only arch which uses DISCONTIGMEM for !NUMA
scenarios.  Grepping the arch/ directories shows:

alpha (does support NUMA, but also non-NUMA DISCONTIGMEM)
arc (for supporting more than 1GB of memory)
ia64 (looks complicated ...)
m68k (for multiple chunks of memory)
mips (does support NUMA but also non-NUMA)
parisc (both NUMA and non-NUMA)

I'm not sure that these architecture maintainers even know that DISCONTIGMEM
is deprecated.  Adding linux-arch to the cc.
