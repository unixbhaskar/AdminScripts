Delivered-To: unixbhaskar@gmail.com
Received: by 2002:a19:8c56:0:0:0:0:0 with SMTP id i22csp437289lfj;
        Fri, 4 Oct 2019 01:27:09 -0700 (PDT)
X-Google-Smtp-Source: APXvYqyhtebzEmGtxZhji2TWVy1Ni/pbOQZTZl+6flAPnttqSyVu+m3RuFR5feFHLuDEzNUc6h+0
X-Received: by 2002:a17:906:bcd9:: with SMTP id lw25mr3828836ejb.330.1570177628516;
        Fri, 04 Oct 2019 01:27:08 -0700 (PDT)
ARC-Seal: i=1; a=rsa-sha256; t=1570177628; cv=none;
        d=google.com; s=arc-20160816;
        b=R06ct+SUFY0Ts3MyKh35taFgsrjAHsGozD1YfYeOm7Ttaogejq0j2NMfnhZZOWBOq5
         pxNe9eJHMHgfrI82fSXrfhordxL5i8jPVvs/CNXurmPRlIVz3EJFR7aoS/z0P51bU2bT
         U9CV2Af9VJrWuA3vkoxUgDN/qelfFpeHVnFRVxUhnCQQq1oanXi12uCbUKWI11QVDuTl
         elI89ur8Sh4lpJxnGCEob+SnJGMRnkROiHISBONsn4gkLEZuPtliJlkdgrvUqLJDG7Ko
         llFgxQutNTTSRkZl/lNguFFw+kaYoyCNjk7yGtvLp9DFIwH2w2BPvU92ljjdKcQmlw/P
         vo5g==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=list-id:precedence:sender:content-transfer-encoding:cc:to:subject
         :message-id:date:from:mime-version:dkim-signature;
        bh=+Gu6cEOofmru4+/mu1CqeH3JyAm5zhExO/L4D/5t/mI=;
        b=c1m01XVEkD9CX5eJ/gAkJdHtNfhrIN8m6JuDXlSd1AErdWyab7hb/Wf6pW62PXqtC+
         WzPNjGOcdLLV/npWhOL7agmVnoYisG7/zZtq9jDkkFS9jEWL63Sbtf+V5mdNZdwquRUe
         /TP2zq30eDpqQwgFTdgp0v8wr9VytGAv56RU5tgJ1rrYfEIVHZIpqVjmbIvz5gfvzVFe
         Hosfggy2PXwJRloZuQ/j+y4VyqURTjQUPCnSIYeL2B+s2VTSrHuCTFDjLCXC2wyuUPSG
         lQU5aDzpC0d+oRWCi+XVQuEmw/ZIE80zgOrhH7VJeeY6BCfbrrZzEHKHDCVcvGeyQ6r9
         6FIg==
ARC-Authentication-Results: i=1; mx.google.com;
       dkim=pass header.i=@gmail.com header.s=20161025 header.b=iIsK0eO6;
       spf=pass (google.com: best guess record for domain of linux-kernel-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) smtp.mailfrom=linux-kernel-owner@vger.kernel.org;
       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=gmail.com
Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: from vger.kernel.org (vger.kernel.org. [209.132.180.67])
        by mx.google.com with ESMTP id s20si2618785eja.63.2019.10.04.01.26.43;
        Fri, 04 Oct 2019 01:27:08 -0700 (PDT)
Received-SPF: pass (google.com: best guess record for domain of linux-kernel-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) client-ip=209.132.180.67;
Authentication-Results: mx.google.com;
       dkim=pass header.i=@gmail.com header.s=20161025 header.b=iIsK0eO6;
       spf=pass (google.com: best guess record for domain of linux-kernel-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) smtp.mailfrom=linux-kernel-owner@vger.kernel.org;
       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=gmail.com
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2388223AbfJDHza (ORCPT <rfc822;beyondssmith@gmail.com>
        + 99 others); Fri, 4 Oct 2019 03:55:30 -0400
Received: from mail-lf1-f44.google.com ([209.85.167.44]:36012 "EHLO
        mail-lf1-f44.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S2387511AbfJDHza (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Fri, 4 Oct 2019 03:55:30 -0400
Received: by mail-lf1-f44.google.com with SMTP id x80so3804552lff.3
        for <linux-kernel@vger.kernel.org>; Fri, 04 Oct 2019 00:55:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:from:date:message-id:subject:to:cc
         :content-transfer-encoding;
        bh=+Gu6cEOofmru4+/mu1CqeH3JyAm5zhExO/L4D/5t/mI=;
        b=iIsK0eO6znrXnsFKAQvRUCRMBbrnRq1h5zG5HMmKb9+IEzdM2z+Daspn0ZPiiObjyC
         hBtaGSpD9E1S0mM6B2y747H7as+0ivn1gOBicqxb5Q/MNPluMNSdJ/wfVFzlM7B0QaHw
         pZRjp8qt1iilw7PmBYThGxM3SThLl6U3rKmEN+NrujKz5f67yvVSwonKN9fgsRQlNaBF
         t5MHs2hZcv5uvg8D9qng6i1h8Dflj+Y6rdkMrYHX6FKwpaeJWMFul8elOyV5tMj3l3dx
         dhARaYGzKKfx21+A9JEBCm6RhOEKpbv86JgnnJsMtEY4I4RA+WbtL4/EMY7ccEnNxd1M
         q7Dg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to:cc
         :content-transfer-encoding;
        bh=+Gu6cEOofmru4+/mu1CqeH3JyAm5zhExO/L4D/5t/mI=;
        b=hBb4ZR8aK9o1W7h4FCEHuxU2eleaODiuYOUcEAR0eygu0YoK+PtiM+gzWvL0Fappkk
         cPHzVXDrDRq1Z7iACGzd4k2Zp37MbtEo6VSE8XfA24/7c+znA4x7opJ4/V78y96kjsXC
         loMu2T40Z+qVTFZ3U/cjh17cIISUSwhh7++nfMnHfoo58u92uyndPKxKo5TGTf8aziC+
         RwbaiC7UbyxiX5APAkyjCCGDa/JVsb+5VKmp3uoBwQBsn+vSoasvlRRoJHYgYMP2W467
         Q3Hn76od9nCYu6cQnQA4D9IYZCHrp/gCIlZIUHskfkbauNnLhTy0Bfh6htCAJSLXBi+S
         VvOg==
X-Gm-Message-State: APjAAAV0BpVX93cV33x4IWpz3WWh5IhoFFbB4XGdmc66R1i9J8AxTxda
        0maxGgIjunV78UrQBVzgdLiRJ2+7c8+O0dKTLhAyiDFp
X-Received: by 2002:a19:22cd:: with SMTP id i196mr7937476lfi.160.1570175727516;
 Fri, 04 Oct 2019 00:55:27 -0700 (PDT)
MIME-Version: 1.0
From:   Dave Airlie <airlied@gmail.com>
Date:   Fri, 4 Oct 2019 17:55:16 +1000
Message-ID: <CAPM=9txgjvF2366P7_Sj-sLdS0rjdnsyFEg7xKF35sEG7ZTXBQ@mail.gmail.com>
Subject: [git pull] drm fixes for 5.4-rc2
To:     Linus Torvalds <torvalds@linux-foundation.org>,
        Daniel Vetter <daniel.vetter@ffwll.ch>
Cc:     dri-devel <dri-devel@lists.freedesktop.org>,
        LKML <linux-kernel@vger.kernel.org>
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

Hey Linus,

Been offline for 3 days, got back and had some fixes queued up,
nothing too major, the i915 dp-mst fix is important, and amdgpu has a
bulk move speedup fix and some regressions, but nothing too insane for
an rc2 pull. The intel fixes are also 2 weeks worth, they missed the
boat last week.

Dave.

drm-fixes-2019-10-04:
drm fixes for 5.4-rc2

core:
- writeback fixes

i915:
- Fix DP-MST crtc_mask
- Fix dsc dpp calculations
- Fix g4x sprite scaling stride check with GTT remapping
- Fix concurrence on cases where requests where getting retired at
same time as resubmitted to HW
- Fix gen9 display resolutions by setting the right max plane width
- Fix GPU hang on preemption
- Mark contents as dirty on a write fault. This was breaking cursor
sprite with dumb buffers.

komeda:
- memory leak fix

tilcdc:
- include fix

amdgpu:
- Enable bulk moves
- Power metrics fixes for Navi
- Fix S4 regression
- Add query for tcc disabled mask
- Fix several leaks in error paths
- randconfig fixes
- clang fixes
The following changes since commit 54ecb8f7028c5eb3d740bb82b0f1d90f2df63c5c=
:

  Linux 5.4-rc1 (2019-09-30 10:35:40 -0700)

are available in the Git repository at:

  git://anongit.freedesktop.org/drm/drm tags/drm-fixes-2019-10-04

for you to fetch changes up to 07bba341c99694a4fe6b07edfa4f97ca90c8784c:

  Merge tag 'drm-intel-fixes-2019-10-03-1' of
git://anongit.freedesktop.org/drm/drm-intel into drm-fixes (2019-10-04
16:31:06 +1000)

----------------------------------------------------------------
drm fixes for 5.4-rc2

core:
- writeback fixes

i915:
- Fix DP-MST crtc_mask
- Fix dsc dpp calculations
- Fix g4x sprite scaling stride check with GTT remapping
- Fix concurrence on cases where requests where getting retired at
same time as resubmitted to HW
- Fix gen9 display resolutions by setting the right max plane width
- Fix GPU hang on preemption
- Mark contents as dirty on a write fault. This was breaking cursor
sprite with dumb buffers.

komeda:
- memory leak fix

tilcdc:
- include fix

amdgpu:
- Enable bulk moves
- Power metrics fixes for Navi
- Fix S4 regression
- Add query for tcc disabled mask
- Fix several leaks in error paths
- randconfig fixes
- clang fixes

----------------------------------------------------------------
Aaron Liu (1):
      Revert "drm/amdgpu: disable stutter mode for renoir"

Alex Deucher (1):
      drm/amdgpu: don't increment vram lost if we are in hibernation

Arnd Bergmann (6):
      drm/tilcdc: include linux/pinctrl/consumer.h again
      drm/amdgpu: make pmu support optional, again
      drm/amdgpu: hide another #warning
      drm/amdgpu: display_mode_vba_21: remove uint typedef
      drm/amd/display: hide an unused variable
      drm/amd/display: fix dcn21 Makefile for clang

Christian K=C3=B6nig (1):
      drm/amdgpu: revert "disable bulk moves for now"

Dave Airlie (3):
      Merge tag 'drm-fixes-5.4-2019-10-02' of
git://people.freedesktop.org/~agd5f/linux into drm-fixes
      Merge tag 'drm-misc-fixes-2019-10-03' of
git://anongit.freedesktop.org/drm/drm-misc into drm-fixes
      Merge tag 'drm-intel-fixes-2019-10-03-1' of
git://anongit.freedesktop.org/drm/drm-intel into drm-fixes

Kevin Wang (2):
      drm/amd/powerplay: change metrics update period from 1ms to 100ms
      drm/amd/powerplay: add sensor lock support for smu

Lowry Li (Arm Technology China) (2):
      drm: Free the writeback_job when it with an empty fb
      drm: Clear the fence pointer when writeback job signaled

Maarten Lankhorst (1):
      drm/i915/dp: Fix dsc bpp calculations, v5.

Marek Ol=C5=A1=C3=A1k (1):
      drm/amdgpu: return tcc_disabled_mask to userspace

Maxime Ripard (2):
      Merge drm/drm-fixes into drm-misc-fixes
      Merge drm-misc-next-fixes-2019-10-02 into drm-misc-fixes

Navid Emamdoost (3):
      drm/komeda: prevent memory leak in komeda_wb_connector_add
      drm/amdgpu: fix multiple memory leaks in acp_hw_init
      drm/amd/display: memory leak

Tomi Valkeinen (1):
      drm/omap: fix max fclk divider for omap36xx

Ville Syrj=C3=A4l=C3=A4 (2):
      drm/i915: Fix g4x sprite scaling stride check with GTT remapping
      Revert "drm/i915: Fix DP-MST crtc_mask"

 drivers/gpu/drm/amd/amdgpu/Makefile                |   2 +-
 drivers/gpu/drm/amd/amdgpu/amdgpu_acp.c            |  34 ++--
 drivers/gpu/drm/amd/amdgpu/amdgpu_drv.c            |   3 +-
 drivers/gpu/drm/amd/amdgpu/amdgpu_gfx.h            |   1 +
 drivers/gpu/drm/amd/amdgpu/amdgpu_kms.c            |   2 +
 drivers/gpu/drm/amd/amdgpu/amdgpu_vm.c             |   2 -
 drivers/gpu/drm/amd/amdgpu/gfx_v10_0.c             |  12 ++
 drivers/gpu/drm/amd/amdgpu/nv.c                    |   6 +-
 drivers/gpu/drm/amd/amdgpu/soc15.c                 |   8 +-
 drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.c  |   4 +-
 .../drm/amd/display/dc/dce100/dce100_resource.c    |   1 +
 .../drm/amd/display/dc/dce110/dce110_resource.c    |   1 +
 .../drm/amd/display/dc/dce112/dce112_resource.c    |   1 +
 .../drm/amd/display/dc/dce120/dce120_resource.c    |   1 +
 .../gpu/drm/amd/display/dc/dce80/dce80_resource.c  |   1 +
 .../gpu/drm/amd/display/dc/dcn10/dcn10_resource.c  |   1 +
 .../gpu/drm/amd/display/dc/dcn20/dcn20_resource.c  |   1 +
 drivers/gpu/drm/amd/display/dc/dcn21/Makefile      |  12 +-
 .../amd/display/dc/dml/dcn21/display_mode_vba_21.c |  13 +-
 drivers/gpu/drm/amd/powerplay/amdgpu_smu.c         |   2 +
 drivers/gpu/drm/amd/powerplay/arcturus_ppt.c       |   2 +
 drivers/gpu/drm/amd/powerplay/inc/amdgpu_smu.h     |   1 +
 drivers/gpu/drm/amd/powerplay/navi10_ppt.c         |   4 +-
 drivers/gpu/drm/amd/powerplay/vega20_ppt.c         |   2 +
 .../drm/arm/display/komeda/komeda_wb_connector.c   |   7 +-
 drivers/gpu/drm/arm/malidp_mw.c                    |   4 +-
 drivers/gpu/drm/drm_atomic.c                       |  13 +-
 drivers/gpu/drm/drm_writeback.c                    |  23 ++-
 drivers/gpu/drm/i915/display/intel_display.c       |  12 +-
 drivers/gpu/drm/i915/display/intel_display.h       |   2 +-
 drivers/gpu/drm/i915/display/intel_dp.c            | 184 +++++++++++------=
----
 drivers/gpu/drm/i915/display/intel_dp.h            |   6 +-
 drivers/gpu/drm/i915/display/intel_dp_mst.c        |   4 +-
 drivers/gpu/drm/i915/display/intel_sprite.c        |   5 +-
 drivers/gpu/drm/omapdrm/dss/dss.c                  |   2 +-
 drivers/gpu/drm/rcar-du/rcar_du_writeback.c        |   4 +-
 drivers/gpu/drm/tilcdc/tilcdc_tfp410.c             |   1 +
 drivers/gpu/drm/vc4/vc4_txp.c                      |   5 +-
 include/uapi/drm/amdgpu_drm.h                      |   2 +
 39 files changed, 232 insertions(+), 159 deletions(-)
