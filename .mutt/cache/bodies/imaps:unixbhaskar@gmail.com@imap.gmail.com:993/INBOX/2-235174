Delivered-To: unixbhaskar@gmail.com
Received: by 2002:a05:6512:1086:0:0:0:0 with SMTP id j6csp5493585lfg;
        Tue, 21 Apr 2020 14:32:10 -0700 (PDT)
X-Google-Smtp-Source: APiQypIYCMJ4VQjXT+eT8kKGZcyrmbnkNT9jJ5v6abu3wTYbJyN3h3IpYCWad2K0J7hcp6N+GuyM
X-Received: by 2002:a17:906:cd1:: with SMTP id l17mr22402714ejh.319.1587504730289;
        Tue, 21 Apr 2020 14:32:10 -0700 (PDT)
ARC-Seal: i=1; a=rsa-sha256; t=1587504730; cv=none;
        d=google.com; s=arc-20160816;
        b=GvcC7T0qKVvF+E1V89iShynsvO3Me/E4tB3lXQomFIkFVVVmA24hf6H6pLZSuogiim
         WT1kcKp2UNyegHEi1dnM4R0TldY2VnmoiHxTv2/pjFqnTT6JZO4/Mz3uBsAvXHMQ5PCo
         ON1KBGJFjhGERgEu/2ZeaZF7Yno4VfOLiBd5u0gX3bRsuTllPA7utfIssJiYi/tM5CZo
         Xc8pinh2wKkOgZXCjPKdhfYHbF6S3tY4wjkj8Kou6XJhhvtbX9TaXKFDLz2HSiakXEDZ
         U6XKUZKtwl6oyffv13I+b/tTC7vK/6Zd+WXi84T0HoJPXKqIgGh8hhCb7FY7TQ9PZtoi
         xJ/Q==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=list-id:precedence:sender:cc:to:subject:message-id:date:from
         :in-reply-to:references:mime-version:dkim-signature;
        bh=FvK0oTAUp8anEWmdGI1Bg/ATwdwno3Sv2/od6yBSXAc=;
        b=UoujM2TuN29x07AN3SQrbIoHK8+PSM+H7bdhsyQXKWFDiSTc8Znertr7rZwdLDPlq4
         z8QtkqIUu/+tmJ8ob12XMISYtEgMUYHxWwBrlIdIILDIZoarzOtOpnU7Y67+rxBU0n9j
         2PRD4/OILBiew6FSNxya4e+D/KBx3qVmflt23NQWPBZpyhdHH90vVlru0k+rAPDafntW
         dCYOSgYJCk4dHDsqExShD6net8LwRK70Vl1eIx3INMBJZCf05PwVvqkLl1t6XW7RyPii
         9xG+clpy62STN1Z7eYgw/7PccB+meyKocaj5bqIl5KHNKsoJ+gEqCO8Yt91kvwPzz97x
         TF+Q==
ARC-Authentication-Results: i=1; mx.google.com;
       dkim=pass header.i=@linux-foundation.org header.s=google header.b=FOiPol+J;
       spf=pass (google.com: domain of linux-kernel-owner@vger.kernel.org designates 23.128.96.18 as permitted sender) smtp.mailfrom=linux-kernel-owner@vger.kernel.org
Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: from vger.kernel.org (vger.kernel.org. [23.128.96.18])
        by mx.google.com with ESMTP id u2si2524569ejr.370.2020.04.21.14.31.46;
        Tue, 21 Apr 2020 14:32:10 -0700 (PDT)
Received-SPF: pass (google.com: domain of linux-kernel-owner@vger.kernel.org designates 23.128.96.18 as permitted sender) client-ip=23.128.96.18;
Authentication-Results: mx.google.com;
       dkim=pass header.i=@linux-foundation.org header.s=google header.b=FOiPol+J;
       spf=pass (google.com: domain of linux-kernel-owner@vger.kernel.org designates 23.128.96.18 as permitted sender) smtp.mailfrom=linux-kernel-owner@vger.kernel.org
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726228AbgDUVa2 (ORCPT <rfc822;john.hubbard@gmail.com>
        + 99 others); Tue, 21 Apr 2020 17:30:28 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:57480 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-FAIL-OK-FAIL)
        by vger.kernel.org with ESMTP id S1725850AbgDUVa1 (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Tue, 21 Apr 2020 17:30:27 -0400
Received: from mail-lj1-x243.google.com (mail-lj1-x243.google.com [IPv6:2a00:1450:4864:20::243])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 6E425C0610D5
        for <linux-kernel@vger.kernel.org>; Tue, 21 Apr 2020 14:30:27 -0700 (PDT)
Received: by mail-lj1-x243.google.com with SMTP id w20so104096ljj.0
        for <linux-kernel@vger.kernel.org>; Tue, 21 Apr 2020 14:30:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=linux-foundation.org; s=google;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :cc;
        bh=FvK0oTAUp8anEWmdGI1Bg/ATwdwno3Sv2/od6yBSXAc=;
        b=FOiPol+JLjtolgG0HLIc6p+5MapSczKJpEfM7u0qWPMmucI24/ZkKmlYAtPcUduXSG
         Zgb0n13aAiuOKRQbum6muKeAC+lobr3+VAZU4b4uLYdeNCmgi+wlcatdGti5FpDyFJJC
         EQf0xVsz8eA4sLQwaznrD67RpYXHv5XpA6rDk=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:references:in-reply-to:from:date
         :message-id:subject:to:cc;
        bh=FvK0oTAUp8anEWmdGI1Bg/ATwdwno3Sv2/od6yBSXAc=;
        b=fzqasKguRgTm4So9MtZusF/F/Jx3NBEUN6S3ypg00Ut0mTo6Ae634B+JZA0CJOO4JE
         b4wjT4ZGOyHUeQ7pE8rn8yEP99RL5AtC2xWorPbuf063AkFKCl3cnjWLZS+ewdCx0z6v
         9aYiArKxnoiUBv7sXfbufD2sYRjuN0mQui5aCYHJUQIsqyXbv8Eb1aIQu3UZ8xZeA1Cm
         bM2tOYXpkiriitjTmSUrvtUPh/vAUOQQGum+rjQ9pwKd7SVCQqp9XiJqbguZrmuj2MhE
         42NyzQH1jGWJAL2OxxBgzAbRA1JRKMhCGTnWKRls3+Vux3WZVn0rCRKsDzdwcE48jjuK
         fv7w==
X-Gm-Message-State: AGi0Pube0uI3GJ49jPUPi9mGQ5ZkjnioLqpwct0mza+wGzhYW5V/fUdS
        qEA3bwh2U6aU3Ivjx4KmroDo1vlk4bU=
X-Received: by 2002:a2e:9842:: with SMTP id e2mr8662335ljj.273.1587504625036;
        Tue, 21 Apr 2020 14:30:25 -0700 (PDT)
Received: from mail-lf1-f50.google.com (mail-lf1-f50.google.com. [209.85.167.50])
        by smtp.gmail.com with ESMTPSA id m5sm2969100lfb.56.2020.04.21.14.30.23
        for <linux-kernel@vger.kernel.org>
        (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
        Tue, 21 Apr 2020 14:30:23 -0700 (PDT)
Received: by mail-lf1-f50.google.com with SMTP id h6so12352792lfc.0
        for <linux-kernel@vger.kernel.org>; Tue, 21 Apr 2020 14:30:23 -0700 (PDT)
X-Received: by 2002:a19:7706:: with SMTP id s6mr14928777lfc.31.1587504623199;
 Tue, 21 Apr 2020 14:30:23 -0700 (PDT)
MIME-Version: 1.0
References: <CAHk-=wiQsJu-ZFjt7+c9FVD5R40khtZiihrT+7O3UaVvHYz=HQ@mail.gmail.com>
 <428bac87-b6dd-0867-c8f8-622cd606de3e@skogtun.org> <CAHk-=wiX+NT2yxtdPszH9U_S96MCNQA56GJFXY45mZc47yG5KQ@mail.gmail.com>
 <20200421212347.GV2483@worktop.programming.kicks-ass.net>
In-Reply-To: <20200421212347.GV2483@worktop.programming.kicks-ass.net>
From:   Linus Torvalds <torvalds@linux-foundation.org>
Date:   Tue, 21 Apr 2020 14:30:06 -0700
X-Gmail-Original-Message-ID: <CAHk-=whhpFhUV51jabGEzHN51aKTL5fbQBvNw9=3cXnO8PXs3A@mail.gmail.com>
Message-ID: <CAHk-=whhpFhUV51jabGEzHN51aKTL5fbQBvNw9=3cXnO8PXs3A@mail.gmail.com>
Subject: Re: [BISECTED]: Kernel panic (was: Linux 5.7-rc2)
To:     Peter Zijlstra <peterz@infradead.org>
Cc:     Harald Arnesen <harald@skogtun.org>,
        Ingo Molnar <mingo@kernel.org>,
        "Rafael J. Wysocki" <rafael.j.wysocki@intel.com>,
        Linux Kernel Mailing List <linux-kernel@vger.kernel.org>,
        Giovanni Gherdovich <ggherdovich@suse.cz>
Content-Type: text/plain; charset="UTF-8"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

On Tue, Apr 21, 2020 at 2:23 PM Peter Zijlstra <peterz@infradead.org> wrote:
>
> (not seeing the original report in the archives or my list copy)

Hmm. It was cc'd to lkml, but maybe the attached 3.2MB picture ended
up making it too big to actually make it to the list...

The picture was just the bottom of the oops - I decoded the Code:
section just to verify that yeah, it's the div instruction in
arch_scale_freq_tick, from kernel_init -> native_smp_prepapre_cpus
(the rest of the oops has scrolled off the page).

> I'm assuming it's some sort of dodgy virt setup, actual real proper
> hardware should never get here like that.

It actually looks like a native boot on a Lenovo T510i laptop to me.

Also, see

  https://lore.kernel.org/lkml/b90ba443-9b9d-481e-7ecc-d5a25816e02f@oracle.com/

where Dave Kleikamp seems to say that it happens on his Lenovo T410.

So I do think it's real, and _not_ virtualization. Please don't
dismiss it as some vmware artifact. Looks more like it's triggered by
some Lenovo Thinkpad BIOS setup issue.

                Linus
