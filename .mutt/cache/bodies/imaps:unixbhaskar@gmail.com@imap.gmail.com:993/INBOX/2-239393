Delivered-To: unixbhaskar@gmail.com
Received: by 2002:a19:f20e:0:0:0:0:0 with SMTP id q14csp1404922lfh;
        Sat, 16 May 2020 08:13:26 -0700 (PDT)
X-Google-Smtp-Source: ABdhPJx2bMVtwkAhJYMNS1L81KTDuoGsvovo6WbW4I20kZVOaHb8OitlBkdsWRn9WHxES08/ZVI2
X-Received: by 2002:a05:6402:501:: with SMTP id m1mr6735331edv.207.1589642006006;
        Sat, 16 May 2020 08:13:26 -0700 (PDT)
ARC-Seal: i=1; a=rsa-sha256; t=1589642006; cv=none;
        d=google.com; s=arc-20160816;
        b=yFZG5Wo7euy0i309lFdRfLRA7MPSUB/md7HO770xfERgGD4ieD9R2v7ibYm0shYIdd
         8ODUOLJ+UsrfDATWndp3mwHiZl5aM9PdXoCLbU5oWnac1vr1Boe5mQ6+nsBdT8kGepOM
         KA8PnGBJGNwWJDxaSZiMORXAm0CK4KhjQpWBEEzo5iw/OoRDCR5uGAuuRUZrBwiMV11p
         pDwjmN0Qkxhxbbgf/34BnmkrmQWcgDNoUCG7dhTmx6rh/Bubm1EYZs/ydKWFbz5tBa/p
         wWbcMVrs35O5yyRenAO0QPAordGsH6vgNEO2ADGQZ/i2YKGFkci71KrD8ZAO9wGuFHUS
         P12Q==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=list-id:precedence:sender:content-transfer-encoding:cc:to:subject
         :message-id:date:from:in-reply-to:references:mime-version
         :dkim-signature;
        bh=8q941dGwnJbRAvZmwG3aF699VhyM+QSFprXWpD7W5dk=;
        b=aCBdYo+zjeisajxDkJewT5njoJmQ64RFJlTRdLunYMaSQV/RjhUz6E/cbqp+nPu+zC
         LCeKSLYImsBJuRH/Y9wI55FPuSeKmekDBBDMv4OtYT5Ldahp9i8LUXrQB+NUdGk+LvAC
         47qZo+W8MtD2/Xrw9LN/9Z/626AJjTYty/1AJDguQqgGpVCnshmP8FcWZc/tVt0YN08E
         o9msSsWhjGvaTr2mlJFioJyN2sWENyApf3F9Q+xqxpoiyEgg8hfVCzBKodXbC08TOMEn
         FGDr57EIXbjd6FOdVOp4v0XMB1qYvMdtwlmQ2DRmHRq/CG5CoK9BEDoDDnww3y74yF2v
         c6Ow==
ARC-Authentication-Results: i=1; mx.google.com;
       dkim=pass header.i=@gmail.com header.s=20161025 header.b=HrCt+Jj2;
       spf=pass (google.com: domain of linux-kernel-owner@vger.kernel.org designates 23.128.96.18 as permitted sender) smtp.mailfrom=linux-kernel-owner@vger.kernel.org;
       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=gmail.com
Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: from vger.kernel.org (vger.kernel.org. [23.128.96.18])
        by mx.google.com with ESMTP id y1si3152417edo.418.2020.05.16.08.13.02;
        Sat, 16 May 2020 08:13:25 -0700 (PDT)
Received-SPF: pass (google.com: domain of linux-kernel-owner@vger.kernel.org designates 23.128.96.18 as permitted sender) client-ip=23.128.96.18;
Authentication-Results: mx.google.com;
       dkim=pass header.i=@gmail.com header.s=20161025 header.b=HrCt+Jj2;
       spf=pass (google.com: domain of linux-kernel-owner@vger.kernel.org designates 23.128.96.18 as permitted sender) smtp.mailfrom=linux-kernel-owner@vger.kernel.org;
       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=gmail.com
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1727081AbgEPPLB (ORCPT <rfc822;haoxu.linuxkernel@gmail.com>
        + 99 others); Sat, 16 May 2020 11:11:01 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:41168 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1726907AbgEPPK6 (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Sat, 16 May 2020 11:10:58 -0400
Received: from mail-ot1-x344.google.com (mail-ot1-x344.google.com [IPv6:2607:f8b0:4864:20::344])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id A9850C061A0C
        for <linux-kernel@vger.kernel.org>; Sat, 16 May 2020 08:10:58 -0700 (PDT)
Received: by mail-ot1-x344.google.com with SMTP id d26so4388583otc.7
        for <linux-kernel@vger.kernel.org>; Sat, 16 May 2020 08:10:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :cc:content-transfer-encoding;
        bh=8q941dGwnJbRAvZmwG3aF699VhyM+QSFprXWpD7W5dk=;
        b=HrCt+Jj2QuVhS/wpYHUxEK7wwM5VcUm95nne6KZwJOW9ID/kkh97fnfWDa5pBKCSfM
         6jyQqAFxKGjefmfnsh1Zp5E1pPRKezHUfRd2Wxt75kFwhMRL2goVPpUPE3f33ckHDVwg
         uDcMGVz8LvQvrxMtED+2u+9ZJuvyFB0oV3eNZs9rzfBlkQJjh8EtHEelK96RC8YSKOpE
         L6hF78m+XSphI8pOaQ1ydbG0r4Bvfzm+l8T17dGO8F32xNWEiEGOxvPsl9mEc5H7gUO2
         CN9Jj/79ZSx83aspcXKMiEdubqBg/53oYfZs1WHHY/NbbJ8BPg0j2NCHBLz84K3y0qVX
         aF8g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:references:in-reply-to:from:date
         :message-id:subject:to:cc:content-transfer-encoding;
        bh=8q941dGwnJbRAvZmwG3aF699VhyM+QSFprXWpD7W5dk=;
        b=qBwriVtb/NF2VpkL1YzYDZ3HfmDQEqM+RY1wl9gtBvoBfUrqjO5cnQPW24JjdpWUtn
         3XvDVTb8/JL2u/g8u5aLYI5PmRGwTOBncSO5EjV/q3MV54GxcxM7c/jxdbGFMSPOFmcg
         cYJGzWhGVK11XKaSKFeNzCXDR4gmb+F7VAUP8aavNTkJA2UgOoF8cgoTAO9X5wddHUfx
         +f+kkVqeN9A5zqvfyDXaM/tqNY6S52Phiipy7/09yVnKnsCJpFcF1ReUiAA8TzW9hmDM
         wGwCZ3pxRqH2BAMLzpQBdD2FRz9gOJ0kFBkYiD8s8L7rw0Boe+WYpB1OsV2aPXy5qoAt
         7iSg==
X-Gm-Message-State: AOAM530JST9YUcOpFx97TTn1MNh8AsFdjazA7FoBLX2Y6AdWCjMuZlJC
        ZFbRjtZsHcEAIR8iez8mrveHBZD0x+b+RP6k12A=
X-Received: by 2002:a9d:7d8a:: with SMTP id j10mr5431293otn.266.1589641858007;
 Sat, 16 May 2020 08:10:58 -0700 (PDT)
MIME-Version: 1.0
References: <CAPY=qRQ6gzN1BWh=ianVDBQ1C9kibWHwxs5Z0+QSwGxKymLDTQ@mail.gmail.com>
 <374485.1589637193@turing-police>
In-Reply-To: <374485.1589637193@turing-police>
From:   Subhashini Rao Beerisetty <subhashbeerisetty@gmail.com>
Date:   Sat, 16 May 2020 20:40:45 +0530
Message-ID: <CAPY=qRQQb9OPJYw6HvRhezPS8VwVHRmg-tTMug0CMOiiVrdJ=Q@mail.gmail.com>
Subject: Re: general protection fault vs Oops
To:     =?UTF-8?Q?Valdis_Kl=C4=93tnieks?= <valdis.kletnieks@vt.edu>
Cc:     kernelnewbies <kernelnewbies@kernelnewbies.org>,
        linux-kernel@vger.kernel.org
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

On Sat, May 16, 2020 at 7:23 PM Valdis Kl=C4=93tnieks
<valdis.kletnieks@vt.edu> wrote:
>
> On Sat, 16 May 2020 18:05:07 +0530, Subhashini Rao Beerisetty said:
>
> > In the first attempt when I run that test case I landed into =E2=80=9Cg=
eneral
> > protection fault: 0000 [#1] SMP" .. Next I rebooted and ran the same
> > test , but now it resulted the =E2=80=9COops: 0002 [#1] SMP".
>
> And the 0002 is telling you that there's been 2 previous bug/oops since t=
he
> reboot, so you need to go back through your dmesg and find the *first* on=
e.
I could not find Oops: 0001 in kern.log.
Actually I captured the crash call trace by running tail -f
/var/log/kern.log. But after reboot, I could not find the same in
kern.log file. Why the kernel failed to store in kern.log? In that
case how does tail command captured? Could you please clarify on
this..

$strings /var/log/kern.log | grep -i oops

>
> > In both cases the call trace looks exactly same and RIP points to
> > =E2=80=9Cnative_queued_spin_lock_slowpath+0xfe/0x170"..
>
> The first few entries in the call trace are the oops handler itself. So..=
.
>
>
> > May 16 12:06:17 test-pc kernel: [96934.567347] Call Trace:
> > May 16 12:06:17 test-pc kernel: [96934.569475]  [<ffffffff8183c427>]__r=
aw_spin_lock_irqsave+0x37/0x40
> > May 16 12:06:17 test-pc kernel: [96934.571686]  [<ffffffffc0606812>] ev=
ent_raise+0x22/0x60 [osa]
> > May 16 12:06:17 test-pc kernel: [96934.573935]  [<ffffffffc06aa2a4>] mu=
lti_q_completed_one_buffer+0x34/0x40 [mcore]
>
> The above line is the one where you hit the wall.
>
> > May 16 12:59:22 test-pc kernel: [ 3011.405602] Call Trace:
> > May 16 12:59:22 test-pc kernel: [ 3011.407892]  [<ffffffff8183c427>] _r=
aw_spin_lock_irqsave+0x37/0x40
> > May 16 12:59:22 test-pc kernel: [ 3011.410256]  [<ffffffffc0604812>] ev=
ent_raise+0x22/0x60 [osa]
> > May 16 12:59:22 test-pc kernel: [ 3011.412652]  [<ffffffffc06b72a4>] mu=
lti_q_completed_one_buffer+0x34/0x40 [mcore]
>
> And again.
>
> However,  given that it's a 4.4 kernel from 4 years ago, it's going to be
> hard to find anybody who really cares.
>
> In fact. I'm wondering if this is from some out-of-tree or vendor patch,
> because I'm not finding any sign of that function in either the 5.7 or 4.=
4
> tree.  Not even a sign of ## catenation abuse - no relevant hits for
> "completed_one_buffer" or "multi_q" either
>
> I don't think anybody's going to be able to help unless somebody first
> identifies where that function is....
>
