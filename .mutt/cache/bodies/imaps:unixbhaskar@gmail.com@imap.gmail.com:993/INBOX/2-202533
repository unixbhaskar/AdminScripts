Delivered-To: unixbhaskar@gmail.com
Received: by 2002:a19:8c56:0:0:0:0:0 with SMTP id i22csp2825731lfj;
        Mon, 23 Sep 2019 09:09:26 -0700 (PDT)
X-Google-Smtp-Source: APXvYqxl/2Ihrk8b2/7EyGRbP0MLhApweraunlQBZ5FsTu5NMdcv1RqOyn4MCXwxWr71OzglfWpa
X-Received: by 2002:a17:906:3583:: with SMTP id o3mr85786ejb.224.1569254966032;
        Mon, 23 Sep 2019 09:09:26 -0700 (PDT)
ARC-Seal: i=1; a=rsa-sha256; t=1569254966; cv=none;
        d=google.com; s=arc-20160816;
        b=aGzyQgTqha1laNLJMpUDP6cMvHncaG+dZTTLeNDlFsZUJAGbSaUeydnFIJGcdeB0p9
         JWtdRkBctyCNQKoxwW0p8IRZledKLz91rdrA+dJfj6Xe3ctBdgpB+/t4KT3Wl/puKJfg
         VsfajBI6/0TcCxKsMkodh/zDb1UUetUU1oPr8FEsBv0w2h7cRqZ0tYXN3sEkFq/W8RhB
         dIUVUGMQCUrnS1mz7A2ugvOC9h0DrheqV3Cvvb9vGpGkHNG9aWhpyQKx1hGalZpd1cCG
         Jg5sQRT7GIpQZeBIAE9kAGbjzIIzsCmBXEI3fK8wINScAplqFdpamyw3h+EDdNV33w2L
         E8EA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=list-id:precedence:sender:cc:to:subject:message-id:date:from
         :in-reply-to:references:mime-version:dkim-signature;
        bh=zCaniXiQG6Rf5PSnFKP6/rRWss/Ze+zbdtLs92wKBHI=;
        b=mYtUGkTBQQIyUWRZgxMQthGe9r9OA/0kxtzv+gEFEEG7mHFWAEhPOoge4tlv5qN31X
         bY4cjd1sUrtpj0ZqJoHebStHG+ZbY8d5ORFcA4/NmxdAbE7HLAyIx8wg57ta/evcgr48
         M2IsPd3wePxUccsiTDB4GwUEF0gpV0F9J7Y8XfpS0HPAfb8SNF8Yz2PHf8EbmfKw+pVW
         G6ZmRPbWXEhkeUEfrtUPreV3yxtT0R6sBjIOKX7tFhwUIhBxywS+Uph9QDcr5HQTXvRb
         bfigK+V7HCfusO4cBajGkLiHjiEW4nejUivqgiUrGmeYtDMrIU0zhI3/UCQg//inB3Su
         Nl0g==
ARC-Authentication-Results: i=1; mx.google.com;
       dkim=pass header.i=@linux-foundation.org header.s=google header.b=YXjTzvIj;
       spf=pass (google.com: best guess record for domain of linux-kernel-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) smtp.mailfrom=linux-kernel-owner@vger.kernel.org
Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: from vger.kernel.org (vger.kernel.org. [209.132.180.67])
        by mx.google.com with ESMTP id q20si5506341ejn.18.2019.09.23.09.09.01;
        Mon, 23 Sep 2019 09:09:26 -0700 (PDT)
Received-SPF: pass (google.com: best guess record for domain of linux-kernel-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) client-ip=209.132.180.67;
Authentication-Results: mx.google.com;
       dkim=pass header.i=@linux-foundation.org header.s=google header.b=YXjTzvIj;
       spf=pass (google.com: best guess record for domain of linux-kernel-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) smtp.mailfrom=linux-kernel-owner@vger.kernel.org
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2388497AbfIVSYj (ORCPT <rfc822;tavery321@gmail.com> + 99 others);
        Sun, 22 Sep 2019 14:24:39 -0400
Received: from mail-lj1-f194.google.com ([209.85.208.194]:40688 "EHLO
        mail-lj1-f194.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S2388240AbfIVSYi (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Sun, 22 Sep 2019 14:24:38 -0400
Received: by mail-lj1-f194.google.com with SMTP id 7so11526841ljw.7
        for <linux-kernel@vger.kernel.org>; Sun, 22 Sep 2019 11:24:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=linux-foundation.org; s=google;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :cc;
        bh=zCaniXiQG6Rf5PSnFKP6/rRWss/Ze+zbdtLs92wKBHI=;
        b=YXjTzvIjcre1wO3unIiG+6x4LsJhfBlbPF7k3LeHzyl6u5yZol3KpxHb4DRI+miaBB
         nBwB3DUgq8gtpHh/CIgt9VfIJIi8uYcDZeslJXbAoWx1iZGWd7j7FwIV0y/FRUX8fOYE
         XFKupDRYi7UvTnnFW1H7PtrQ5vcUkXRxBW0b8=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:references:in-reply-to:from:date
         :message-id:subject:to:cc;
        bh=zCaniXiQG6Rf5PSnFKP6/rRWss/Ze+zbdtLs92wKBHI=;
        b=Mfa3laiOcLzqnXkTkTkoO2Y6uMs53+fk6Y3v0ofQ2HXSN2z7z6y88nAxZRTSui8G4V
         +K7P6DBT6WPqz3teQH54IuQxgjPnkoNeAY/FQwL4SFhno0yfVYwEdYJqL9EO2sVk2dJS
         qFfL+ZHfXcSOQhKK/qLHpO8l/Px81zoxT/QCz4O6e1lxtvgFDLHcIXv7LoD+v4ksowXm
         RSNWHsETiDjLothtY8gVVUrL/ZwIQQi0E2/EYCxm+fYJFHrShDr22aXOa9mf0VAKQwk6
         x+1zRpR4vzygwNqb8DHbbXcBgF12QpSYBEB8SwTAzLoc1EIPGH4rRNWXywRCIiFBGvsg
         mA/w==
X-Gm-Message-State: APjAAAXNA+vPHjI6Y10G5AqsZsTH5fkFX7s7lcuiaQdrv+rt+Hp2ZcM7
        gzx4ztB6fzwEO/Pfp2RWvZxW/vGruWM=
X-Received: by 2002:a2e:5418:: with SMTP id i24mr15185018ljb.126.1569176674622;
        Sun, 22 Sep 2019 11:24:34 -0700 (PDT)
Received: from mail-lj1-f180.google.com (mail-lj1-f180.google.com. [209.85.208.180])
        by smtp.gmail.com with ESMTPSA id o15sm1715052lff.22.2019.09.22.11.24.32
        for <linux-kernel@vger.kernel.org>
        (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
        Sun, 22 Sep 2019 11:24:33 -0700 (PDT)
Received: by mail-lj1-f180.google.com with SMTP id y3so10118355ljj.6
        for <linux-kernel@vger.kernel.org>; Sun, 22 Sep 2019 11:24:32 -0700 (PDT)
X-Received: by 2002:a2e:9854:: with SMTP id e20mr15722836ljj.72.1569176671894;
 Sun, 22 Sep 2019 11:24:31 -0700 (PDT)
MIME-Version: 1.0
References: <20190922152809.GA27554@linux-8ccs>
In-Reply-To: <20190922152809.GA27554@linux-8ccs>
From:   Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sun, 22 Sep 2019 11:24:15 -0700
X-Gmail-Original-Message-ID: <CAHk-=wjBYuEf8XCBCNvf0vHf0RatNR308k+CO05UbwYnyTEL=w@mail.gmail.com>
Message-ID: <CAHk-=wjBYuEf8XCBCNvf0vHf0RatNR308k+CO05UbwYnyTEL=w@mail.gmail.com>
Subject: Re: [GIT PULL] Modules updates for v5.4
To:     Jessica Yu <jeyu@kernel.org>
Cc:     Matthias Maennich <maennich@google.com>,
        Martijn Coenen <maco@android.com>,
        Masahiro Yamada <yamada.masahiro@socionext.com>,
        Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
        Linux Kernel Mailing List <linux-kernel@vger.kernel.org>
Content-Type: text/plain; charset="UTF-8"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

On Sun, Sep 22, 2019 at 8:28 AM Jessica Yu <jeyu@kernel.org> wrote:
>
> The main bulk of this pull request introduces a new exported symbol
> namespaces feature.

Hmm.

So I merged this, and felt that I tested my merge resolution fairly
well, and then pushed it out.

But during more extensive testing for special cases, I notice that
MODULE_IMPORT_NS() does not work at all when modules are disabled.

In particular, it causes errors like this:

  drivers/usb/storage/uas.c:1222:1: warning: data definition has no
type or storage class
   1222 | MODULE_IMPORT_NS(USB_STORAGE);
        | ^~~~~~~~~~~~~~~~

because without modules, MODULE_IMPORT_NS() doesn't get #define'd at all.

This is not a merge error - it's an error in the original.

Tssk. I hate finding stupid bugs like this myself. Particularly when I
find them quickly from a simple "what if" test.

Yes, some of it goes to just bad luck with linux-next, but some of
this is simply people not thinking about different cases.

Tssk tssk.

                   Linus
