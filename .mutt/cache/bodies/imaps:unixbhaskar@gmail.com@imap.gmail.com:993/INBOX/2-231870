Delivered-To: unixbhaskar@gmail.com
Received: by 2002:a05:6512:1086:0:0:0:0 with SMTP id j6csp2276250lfg;
        Thu, 2 Apr 2020 14:57:45 -0700 (PDT)
X-Google-Smtp-Source: APiQypI6zu6hD5lxx7fop+W88XHGJWS16+oUYNbHT0ikDPIQwY7FGHK+Dcb9wrdjAAnXLbxI5uWd
X-Received: by 2002:a05:6830:10a:: with SMTP id i10mr4290064otp.190.1585864664878;
        Thu, 02 Apr 2020 14:57:44 -0700 (PDT)
ARC-Seal: i=1; a=rsa-sha256; t=1585864664; cv=none;
        d=google.com; s=arc-20160816;
        b=CuHBCaXaHUPuogIk9vwOV/SBz7rKG167Lo9KTpbk2eSFQwfjXwUXtFtQxzZP7jJzpu
         NnG0XZhz5qK4k8NHL9xoI8PhmfFFNz6xQE5844F/iZVA4yd8zH27tiLOm3pyjGy953Mg
         GA3JWlV3HhduujY9BB1QOg5n4DgNoMu+GBCHHPnBB7hFtGhQ3qwHmwAxNTrXB3Pc5kag
         6cH8SCYTgE9bDhRmGpF1Smom9+9LEAx3jqonhRJGGhXzC5P1fA/s2b8eU1qhz5d3vMFQ
         gNpwHA7qn7vUxJz5r6wYl9k9ZV5dQ6P5roO3P072Ri3a7htfiBOdWrgvL6OEVoLmZWCp
         S1hA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=list-id:precedence:sender:date:user-agent:message-id:to:from
         :subject:references:in-reply-to:content-transfer-encoding
         :mime-version;
        bh=vg5Mcnjjgct8LhRVCneQf3JxDoFOVI+YhYbPP12/5WY=;
        b=hd70bLgrhm6HNqGGNqCYpRm92s2GjG6kihzLw+qpUAx27cwL/8kWgvzOi2/LjJM3EO
         2G4+TWbdJyiCIbqfnyVJogQGEKG93L4xBGuPxe6pd9eM8ZACy63phStrTJbjOV18Vqlf
         fsHspb2eb8bnfK0c1YR9f00zvQu858y6kHP4/VwVGXT2kp/SC2DOY6FHNqCfZiZoq1qn
         A1lg/CirTpGATVTftO3KL/sUkH7zHZM7RLzQru6m9XLZmKTAd8hbWFWhSkG4iFIDCIQi
         Oy5XFoMxaUf0BfKUPnz8vwVnBXb5dxSFWNVu5vEJMnQIebpM0fWUgVpvyAiosSHPNi9m
         WfCA==
ARC-Authentication-Results: i=1; mx.google.com;
       spf=pass (google.com: best guess record for domain of linux-kernel-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) smtp.mailfrom=linux-kernel-owner@vger.kernel.org
Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: from vger.kernel.org (vger.kernel.org. [209.132.180.67])
        by mx.google.com with ESMTP id o5si2834503otp.191.2020.04.02.14.57.31;
        Thu, 02 Apr 2020 14:57:44 -0700 (PDT)
Received-SPF: pass (google.com: best guess record for domain of linux-kernel-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) client-ip=209.132.180.67;
Authentication-Results: mx.google.com;
       spf=pass (google.com: best guess record for domain of linux-kernel-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) smtp.mailfrom=linux-kernel-owner@vger.kernel.org
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2389004AbgDBV4H convert rfc822-to-8bit (ORCPT
        <rfc822;bluekernelvirtual@gmail.com> + 99 others);
        Thu, 2 Apr 2020 17:56:07 -0400
Received: from mail.fireflyinternet.com ([109.228.58.192]:60253 "EHLO
        fireflyinternet.com" rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org
        with ESMTP id S1726963AbgDBV4H (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Thu, 2 Apr 2020 17:56:07 -0400
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=78.156.65.138;
Received: from localhost (unverified [78.156.65.138]) 
        by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id 20781912-1500050 
        for multiple; Thu, 02 Apr 2020 22:55:42 +0100
Content-Type: text/plain; charset="utf-8"
MIME-Version: 1.0
Content-Transfer-Encoding: 8BIT
In-Reply-To: <20200402213506.GA2767@duo.ucw.cz>
References: <20200402213253.GA2691@duo.ucw.cz> <20200402213506.GA2767@duo.ucw.cz>
Subject: Re: 5.6-rc7: Xorg hangs, too
From:   Chris Wilson <chris@chris-wilson.co.uk>
To:     Pavel Machek <pavel@ucw.cz>, intel-gfx@lists.freedesktop.org,
        jani.nikula@linux.intel.com, joonas.lahtinen@linux.intel.com,
        kernel list <linux-kernel@vger.kernel.org>,
        rodrigo.vivi@intel.com
Message-ID: <158586454333.5852.17002169517772810041@build.alporthouse.com>
User-Agent: alot/0.8.1
Date:   Thu, 02 Apr 2020 22:55:43 +0100
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

Quoting Pavel Machek (2020-04-02 22:35:07)
> [258096.980089] 3 locks held by kswapd0/1034:
> [258096.980096]  #0: ffffffff85851c80 (fs_reclaim){....}, at: __fs_reclaim_acquire+0x0/0x30
> [258096.980114]  #1: ffffffff85850b40 (shrinker_rwsem){....}, at: shrink_slab.constprop.79+0x38/0x270
> [258096.980130]  #2: ffff888197278b90 (&vm->mutex){....}, at: i915_vma_unbind+0x90/0xe0
> [258096.980177] 3 locks held by Xorg/3123:
> [258096.980183]  #0: ffff8881972700c8 (&dev->struct_mutex){....}, at: i915_gem_do_execbuffer+0x690/0x1ef0
> [258096.980200]  #1: ffff88819576e950 (&ctx->mutex){....}, at: eb_lookup_vmas+0x7d/0xd10
> [258096.980215]  #2: ffff888197278b90 (&vm->mutex){....}, at: i915_vma_pin+0xb4/0x750

That's the pair that's causing the trouble.
-Chris
