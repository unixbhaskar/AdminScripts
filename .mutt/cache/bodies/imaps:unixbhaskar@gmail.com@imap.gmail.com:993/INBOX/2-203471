Delivered-To: unixbhaskar@gmail.com
Received: by 2002:a19:8c56:0:0:0:0:0 with SMTP id i22csp6209234lfj;
        Sun, 29 Sep 2019 12:56:43 -0700 (PDT)
X-Google-Smtp-Source: APXvYqx39VMI3E87Hn+e8i/WNGfaJEKPrW8AX3qXjNQawRXJPLgUyuGrdU7wKL7/9ODAo9gl4/Ci
X-Received: by 2002:a50:9250:: with SMTP id j16mr16154363eda.160.1569787003787;
        Sun, 29 Sep 2019 12:56:43 -0700 (PDT)
ARC-Seal: i=1; a=rsa-sha256; t=1569787003; cv=none;
        d=google.com; s=arc-20160816;
        b=XNP58PvsJOhavM83TEgTvQm4rQkT9Zn/IQ+VZAsulaz5wNSQ4xh1MweJXwW8COC0/z
         QbDVq4nT+n9qVsVWdUZ8OqR4tRTja6mV8tRuHNkL5QgZgFZ1/IoX2KlP1xTIGJAE3J5G
         pjmD9FjmuAce/2NO5GuIvortbf+zfvVOANwAent/sBbHnkYfA5FvAqy5RWLYtif0BGlH
         Y+zySuoDTSFfS8t7SEC5WG6YDZ/MF9Psz2FYlTd4Y84yP/XcoCuTDKigJ/qiqU/9QtTq
         FCh2n1RNFwrFRJCq65mxz+zouvGmDlk2bfbrlzBP1ird9lUBip3/VQy10VJ9NeDsIXhi
         SGXQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=list-id:precedence:sender:to:subject:message-id:date:from
         :mime-version:dkim-signature;
        bh=q1ON0aXacT8z1vG03SZjDsu34Gfj0TYUtDN5631jPYw=;
        b=GEQEG/vJjoYQOEB6ap6LagUiHoi/IJ8CZKnJrLVxzh4srXsTNTZ9ZkrL+E1Xwwa5U8
         zT0N1b5ElgViDTVxpsTjKvPK46FFv8EmCTKERLE+w6e6E9jfkZm8BcvIlpGiPUbTRCsl
         rgCb9vyFsv/2k5fzUisLEh034dEWD3qkMf/cnJuSmi1D/NVIxiqENXetDKW4Llj2FFuA
         179PcAGQcT3ScTmoj5AehBqDHPq9Icux01rFkOo+aqwByYf7wMbdBEdZNlZwOOPBg+8p
         ypu/dRnfnSqB+HJBmuMD+cK0tmvwemmcgv+ka6AkvhSnPcn8JDgwJ4wJRyEhDI1rgBjK
         2vJA==
ARC-Authentication-Results: i=1; mx.google.com;
       dkim=pass header.i=@gmail.com header.s=20161025 header.b=auBg69zv;
       spf=pass (google.com: best guess record for domain of linux-kernel-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) smtp.mailfrom=linux-kernel-owner@vger.kernel.org;
       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=gmail.com
Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: from vger.kernel.org (vger.kernel.org. [209.132.180.67])
        by mx.google.com with ESMTP id h23si5807345edh.248.2019.09.29.12.56.03;
        Sun, 29 Sep 2019 12:56:43 -0700 (PDT)
Received-SPF: pass (google.com: best guess record for domain of linux-kernel-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) client-ip=209.132.180.67;
Authentication-Results: mx.google.com;
       dkim=pass header.i=@gmail.com header.s=20161025 header.b=auBg69zv;
       spf=pass (google.com: best guess record for domain of linux-kernel-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) smtp.mailfrom=linux-kernel-owner@vger.kernel.org;
       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=gmail.com
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1728853AbfI2Tyq (ORCPT <rfc822;petrus.archlinux@gmail.com>
        + 99 others); Sun, 29 Sep 2019 15:54:46 -0400
Received: from mail-wm1-f65.google.com ([209.85.128.65]:36050 "EHLO
        mail-wm1-f65.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1725948AbfI2Tyq (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Sun, 29 Sep 2019 15:54:46 -0400
Received: by mail-wm1-f65.google.com with SMTP id m18so10422789wmc.1
        for <linux-kernel@vger.kernel.org>; Sun, 29 Sep 2019 12:54:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:from:date:message-id:subject:to;
        bh=q1ON0aXacT8z1vG03SZjDsu34Gfj0TYUtDN5631jPYw=;
        b=auBg69zvIbsLVlr2Uf1mokhNt9wmjOgIhUfHdXjR0EkyI1sD14NDEYq4Iracef+e4p
         u786HmQ7sAvc9O+oSmvblbk8+vp+mTSTaaJbjVdALjHeELEHng87lDR25+QTWCqBpead
         a6kRQxBWuXkK1xCSu5Psy/JooosayiOmZNdKuKU0IUj7jT4+v6jzEaGjpJMESTGXivZO
         itaSizzrPMS2XR3IisHDyrmrIx1uGbgoNdId9UQcnAzLPrcXu/RGcbNU5C9EMD+EurK6
         ylX73p6DYQmstvdxqV+qZOh75zx0pbCannWgphewEfuIaw2XoIa4ec2+ZBRFCXuyLYPM
         M1KQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to;
        bh=q1ON0aXacT8z1vG03SZjDsu34Gfj0TYUtDN5631jPYw=;
        b=NvyoZcFtRtbvSWYRqMuF/zLnsMS9ZsUgGWpl+tbi9wgV5tP4PUaYbrVAMtpMtOl1ji
         YLAM55OP1CWWA+B+tyiCJ9VMkYca/bhL4bnsxHeZchyn6yv4M2fQRxEPeIORrArflMJY
         68tT9YjDn1yZKmolhCASfsw84Ui1fzoZK5cy2tbgVdJgURc5KUZ8Aczx9MRcFJhkT6Cn
         qpq1/qtpU1xWb+WWA8TbTUB0sF3U27DdwhSsqOCFLByEwRWNGWocIf88to8SI6M+W1BU
         dE3xHPN5e+FcDB0l1vgTuK967SisNJwbzyIa7DeQzQ/6Pc/B8hrl8N0DmHg8qKslwlGw
         tORg==
X-Gm-Message-State: APjAAAXthBGlb6mVqwdKH5p4JxGjHCYtHA9hk1kwTUpPpLK8uYhMbKv8
        FzPEIYq77ab6JrXcggIb5G5PwwkbyvE2nD29B2bfbw==
X-Received: by 2002:a7b:cc0b:: with SMTP id f11mr14876102wmh.112.1569786883763;
 Sun, 29 Sep 2019 12:54:43 -0700 (PDT)
MIME-Version: 1.0
From:   "David F." <df7729@gmail.com>
Date:   Sun, 29 Sep 2019 12:54:33 -0700
Message-ID: <CAGRSmLtvCBNFX0ronxKFAYnDz3Lw4g=uJ8Uqyn53FncioEEO+w@mail.gmail.com>
Subject: Why does /proc/partitions have sr0 and fd0 in it?
To:     linux-kernel <linux-kernel@vger.kernel.org>
Content-Type: text/plain; charset="UTF-8"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

Hi,

I was updating some tools such as udev, mdadm, lvm, and came across a
hang and messages about unable to read fd0 which wasn't occurring with
the old tools, but using same kernel.  So I've found that in the old
version the /proc/partitions didn't have fd0 whereas now it does.  But
both have sr0 in it.  So that leads me to who populates the
/proc/partitions, from the limited info you can find searching the
Internet, it looks like the kernel.   But obviously not since same
kernel used with different results.

The difference is the old system udev used the old debian
create_static_nodes and didn't use devtmpfs, the new udev (eudev),
uses devtmpfs and the create_static_nodes is a bash function instead
of separate binary.     I wonder if that has something to do with it.

But since cd and floppy devices aren't partitioned traditionally
(technically any block device could be but it would be non-standard)
why are they in the /proc/partitions file (also the device, e.g. sda,
is in there and it's not a partition).   So is it not partitions but
just block devices?   If so, maybe /proc/partitions should be a
symlink to a new /proc/blockdevices, so everyone is clear what
actually goes in there (leave the old name just for backwards
compatibility) ?

Is there any docs on all this?

Thanks!
