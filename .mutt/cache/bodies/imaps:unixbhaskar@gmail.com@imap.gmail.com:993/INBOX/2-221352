Delivered-To: unixbhaskar@gmail.com
Received: by 2002:a19:7015:0:0:0:0:0 with SMTP id h21csp1400215lfc;
        Fri, 31 Jan 2020 20:06:26 -0800 (PST)
X-Google-Smtp-Source: APXvYqyQcCnK+1xvciXMYD0vJqTc2jY+71qMs2/Q5XkUCgOwbmefd6XbCWeK4Itzm0v5sNMUJCDW
X-Received: by 2002:a05:6830:1bd5:: with SMTP id v21mr10621602ota.154.1580529986148;
        Fri, 31 Jan 2020 20:06:26 -0800 (PST)
ARC-Seal: i=1; a=rsa-sha256; t=1580529986; cv=none;
        d=google.com; s=arc-20160816;
        b=YFcEKEfYGXR8uFeiXnMqjpx2qkRcmxJKEgoTEwl6jRyAbFL8o+ifPgcUOdTahQL2cL
         bWKIOAQSVEaS3TgmAkaQvmOXjWz6wWijKwM6l74R5qlj/t7QiX9A01ES44P8z+W5J6fV
         EeJcKvpArzxiyfSKOw92JpZ7TInyADMLYHzhFZzHMLr7vHdk2WIt0IQf/rwevFRj6Uiw
         EtCCJr+TgI8eAIYq05RUBJSPQxbzWQTPVIkkby32OyDUT7L+hPqAWXsELDnZI4AYMQt7
         ZxHu6INmP5rt6QQE3Fojgc04elG+v3cwdqzYk4C3Zs/nC9wNiFW4Hm8f+vwh8k7WGhMs
         KCFQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=list-id:precedence:sender:content-transfer-encoding:cc:to:subject
         :message-id:date:from:mime-version:dkim-signature:dkim-filter;
        bh=/9jgs7HOtSaTqTx9d4IcjnuRhqypUBy6L6rSgWmXKxA=;
        b=0xOhzPKwWfv3RLIhYp2eAgUVbqR3sX3vNBGeWr3iul85w9Hy2oVVbe9aY3pzd9PE+3
         aRoSUiXMrrclO/f4zCyfNe/A3lCAPjaVO09OXMS1zScqEKPZt8auS4zvmeNeraPVYdl0
         5KMntr63WRvFk7t3n5kt07TU9fQd3A1we27nT9ah89d1MDbqKwG1rLvFqxE9VBg8GyQc
         qoz07PJGmJee9DnAlC2wMfIQeKDllYR/xhvu+t+yt6/uUwmIcsykmLAFu7RHANEXxItj
         kAx01OSaLmkZGgiu3AYY6sDa7taqpWaFqdh1qUQpbqQuvKAIBhQ9Phz244tQrO3+gbvC
         +Gtg==
ARC-Authentication-Results: i=1; mx.google.com;
       dkim=pass header.i=@nifty.com header.s=dec2015msa header.b=Uj9Qd8cz;
       spf=pass (google.com: best guess record for domain of linux-kbuild-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) smtp.mailfrom=linux-kbuild-owner@vger.kernel.org;
       dmarc=fail (p=NONE sp=NONE dis=NONE) header.from=kernel.org
Return-Path: <linux-kbuild-owner@vger.kernel.org>
Received: from vger.kernel.org (vger.kernel.org. [209.132.180.67])
        by mx.google.com with ESMTP id t137si5411850oif.61.2020.01.31.20.06.20;
        Fri, 31 Jan 2020 20:06:26 -0800 (PST)
Received-SPF: pass (google.com: best guess record for domain of linux-kbuild-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) client-ip=209.132.180.67;
Authentication-Results: mx.google.com;
       dkim=pass header.i=@nifty.com header.s=dec2015msa header.b=Uj9Qd8cz;
       spf=pass (google.com: best guess record for domain of linux-kbuild-owner@vger.kernel.org designates 209.132.180.67 as permitted sender) smtp.mailfrom=linux-kbuild-owner@vger.kernel.org;
       dmarc=fail (p=NONE sp=NONE dis=NONE) header.from=kernel.org
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726758AbgBAEGU (ORCPT <rfc822;unixbhaskar@gmail.com>
        + 34 others); Fri, 31 Jan 2020 23:06:20 -0500
Received: from conssluserg-04.nifty.com ([210.131.2.83]:33027 "EHLO
        conssluserg-04.nifty.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1726567AbgBAEGT (ORCPT
        <rfc822;linux-kbuild@vger.kernel.org>);
        Fri, 31 Jan 2020 23:06:19 -0500
Received: from mail-vk1-f174.google.com (mail-vk1-f174.google.com [209.85.221.174]) (authenticated)
        by conssluserg-04.nifty.com with ESMTP id 011469iV000558;
        Sat, 1 Feb 2020 13:06:10 +0900
DKIM-Filter: OpenDKIM Filter v2.10.3 conssluserg-04.nifty.com 011469iV000558
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=nifty.com;
        s=dec2015msa; t=1580529970;
        bh=/9jgs7HOtSaTqTx9d4IcjnuRhqypUBy6L6rSgWmXKxA=;
        h=From:Date:Subject:To:Cc:From;
        b=Uj9Qd8czYEisYH4dxpV6ElxvD7LCH5TLFtXLjH4fm2xkZm4G/eSV1au9Y9JSL3ufA
         Ux4elKaEoIwFbrk+zFu3qrYyD9EOKmYovZkQySFiyg19S2UZnhzi3/ps6FYGSGA/rP
         OKHljU1NzuqJOhyknKvrdGfUl3n/tHo9ibohALuUwyY+Otwo/I7GSIErOU99dJLjo9
         7cCtJ9xufnqYK2Br7XsEeGBiWiymDzPNwj3IUT8JH5kYyw3raiKJYLhKM4FpwDgflI
         x1fFH11Ogx7QpbrOOQF+dnO2YBhHyrsb8LYHHPBunxL5jM/xU1icRc9HGhvDQxaDQf
         cwzx3yavvVtrQ==
X-Nifty-SrcIP: [209.85.221.174]
Received: by mail-vk1-f174.google.com with SMTP id w67so2688406vkf.1;
        Fri, 31 Jan 2020 20:06:10 -0800 (PST)
X-Gm-Message-State: APjAAAUdAL1i/vCTa1ZHqgdXFADWqa+TmSD07hS8pttxpQtaHXoz99Vi
        jEFymaZdFqfuiI7mEv93szzBpHddJlFYf0oBn94=
X-Received: by 2002:a1f:bfc2:: with SMTP id p185mr8614105vkf.73.1580529969074;
 Fri, 31 Jan 2020 20:06:09 -0800 (PST)
MIME-Version: 1.0
From:   Masahiro Yamada <masahiroy@kernel.org>
Date:   Sat, 1 Feb 2020 13:05:32 +0900
X-Gmail-Original-Message-ID: <CAK7LNAS625YwKpv4wfKO78+Rexe2fP5pLDbMD4r71wwiQfN0Ng@mail.gmail.com>
Message-ID: <CAK7LNAS625YwKpv4wfKO78+Rexe2fP5pLDbMD4r71wwiQfN0Ng@mail.gmail.com>
Subject: [GIT PULL 1/2] Kbuild updates for v5.6-rc1
To:     Linus Torvalds <torvalds@linux-foundation.org>
Cc:     Linux Kernel Mailing List <linux-kernel@vger.kernel.org>,
        Linux Kbuild mailing list <linux-kbuild@vger.kernel.org>
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
Sender: linux-kbuild-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kbuild.vger.kernel.org>
X-Mailing-List: linux-kbuild@vger.kernel.org

Hi Linus,

Please pull Kbuild updates for v5.6-rc1.

Thanks!


The following changes since commit c79f46a282390e0f5b306007bf7b11a46d529538=
:

  Linux 5.5-rc5 (2020-01-05 14:23:27 -0800)

are available in the Git repository at:

  git://git.kernel.org/pub/scm/linux/kernel/git/masahiroy/linux-kbuild.git
tags/kbuild-v5.6

for you to fetch changes up to 451dff37f0752cc8ad6f1bb82081a98d7b760310:

  builddeb: split libc headers deployment out into a function
(2020-01-29 01:51:30 +0900)

----------------------------------------------------------------
Kbuild updates for v5.6

 - detect missing include guard in UAPI headers

 - do not create orphan built-in.a or obj-y objects

 - generate modules.builtin more simply, and drop tristate.conf

 - simplify built-in initramfs creation

 - make linux-headers deb package thinner

 - optimize the deb package build script

 - misc cleanups

----------------------------------------------------------------
Masahiro Yamada (32):
      kbuild: detect missing include guard for exported headers
      kbuild: rename header-test- to no-header-test in usr/include/Makefile
      kbuild: do not create orphan built-in.a or obj-y objects
      kbuild: use pattern rule for building built-in.a in sub-directories
      kbuild: add stringify helper to quote a string passed to C files
      kbuild: pass KBUILD_MODFILE when compiling builtin objects
      kbuild: create modules.builtin without Makefile.modbuiltin or
tristate.conf
      initramfs: replace klibcdirs in Makefile with FORCE
      gen_initramfs_list.sh: remove unused variable 'default_list'
      gen_initramfs_list.sh: fix the tool name in the comment
      initramfs: rename gen_initramfs_list.sh to gen_initramfs.sh
      initramfs: remove redundant dependency on BLK_DEV_INITRD
      initramfs: make compression options not depend on INITRAMFS_SOURCE
      initramfs: make initramfs compression choice non-optional
      initramfs: specify $(src)/gen_initramfs.sh as a prerequisite in Makef=
ile
      initramfs: generate dependency list and cpio at the same time
      initramfs: add default_cpio_list, and delete -d option support
      gen_initramfs.sh: always output cpio even without -o option
      initramfs: refactor the initramfs build rules
      gen_initramfs.sh: remove intermediate cpio_list on errors
      modpost: assume STT_SPARC_REGISTER is defined
      kbuild: remove PYTHON2 variable
      kbuild: remove *.tmp file when filechk fails
      kbuild: remove 'Building modules, stage 2.' log
      kbuild: use -S instead of -E for precise cc-option test in Kconfig
      builddeb: remove unneeded files in hdrobjfiles for headers package
      builddeb: match temporary directory name to the package name
      builddeb: remove redundant $objtree/
      builddeb: avoid invoking sub-shells where possible
      builddeb: remove redundant make for ARCH=3Dum
      builddeb: split kernel headers deployment out into a function
      builddeb: split libc headers deployment out into a function

Micha=C5=82 Miros=C5=82aw (2):
      builddeb: make headers package thinner
      builddeb: allow selection of .deb compressor

 Documentation/kbuild/kconfig.rst                |   5 -
 Makefile                                        |  24 +---
 include/linux/module.h                          |  12 +-
 scripts/Kbuild.include                          |  25 ++--
 scripts/Kconfig.include                         |   2 +-
 scripts/Makefile.build                          |   4 +-
 scripts/Makefile.lib                            |  21 ++-
 scripts/Makefile.modbuiltin                     |  57 --------
 scripts/Makefile.modpost                        |   1 -
 scripts/kconfig/confdata.c                      |  45 +-----
 scripts/link-vmlinux.sh                         |   4 +
 scripts/mod/modpost.c                           |   8 +-
 scripts/package/builddeb                        | 106 ++++++++------
 usr/.gitignore                                  |   8 +-
 usr/Kconfig                                     |  26 ----
 usr/Makefile                                    |  97 ++++++++-----
 usr/default_cpio_list                           |   6 +
 usr/{gen_initramfs_list.sh =3D> gen_initramfs.sh} | 167 ++++++------------=
----
 usr/include/Makefile                            | 107 +++++++-------
 usr/initramfs_data.S                            |   5 +-
 20 files changed, 281 insertions(+), 449 deletions(-)
 delete mode 100644 scripts/Makefile.modbuiltin
 create mode 100644 usr/default_cpio_list
 rename usr/{gen_initramfs_list.sh =3D> gen_initramfs.sh} (53%)


--=20
Best Regards
Masahiro Yamada
